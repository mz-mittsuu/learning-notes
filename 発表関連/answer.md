めちゃくちゃ整理できてる。
ここからは **「上長に突っ込まれた点に論理で答えられる状態」** と **「発表で“自分の担当＝システムテスト×クラウド連携”が立つ構成」** を一緒に作ろう。

以下、**そのままスライドに落とせる粒度**で答えるね。

---

## 6. テスト設計・実装

### Q1.「ローカルと違って、クラウド環境特有の部分は何？」への答え

ここ、**超重要ポイント**。

結論から言うと：

> **テスト対象（実機・ソフト）は同じだが、
> テストの「実行・管理・可視化の文脈」がクラウド特有**

#### ローカル環境のシステムテスト

* 実行者：開発者本人
* 実行方法：手動（bash / python）
* 結果確認：端末ログ・目視
* 課題：

  * 実行者依存
  * 実行タイミングが属人化
  * 結果が履歴として残りにくい

#### クラウド連携（Azure Pipelines）で初めて出てくる観点

* **誰が・いつ・どの版に対して**テストしたかを自動で保証
* CIイベント（push / PR）をトリガに **再現性のある実行**
* テスト結果を **機械可読な形式で収集・蓄積**
* 履歴比較（いつ壊れたか）が可能

👉 だから言い切れる：

> **「クラウド特有なのは“テストの中身”ではなく、“テストを回す仕組み”」**

これ、スライドにそのまま使ってOK。

---

## JUnit XML を使った理由（超大事）

### Q2. なぜ JUnit XML？

一言で：

> **CI/CD ツールが“テスト結果”として理解できる共通フォーマットだから**

#### JUnit XML とは

* テスト結果を表現する **事実上の標準フォーマット**
* テストケース単位で

  * 成功 / 失敗
  * 実行時間
  * エラーメッセージ
    をXMLで記述

```xml
<testcase name="ST-04" classname="system_test" time="0.12">
</testcase>
```

#### Azure Pipelines は何をしている？

* パイプラインで
  `PublishTestResults@2`
* を使うと：

  * JUnit XML を解析
  * **テスト件数 / 成功 / 失敗を自動集計**
  * Web UI にグラフ・一覧表示

👉 重要な言い方：

> **「JUnit XML は “ログ” ではなく “テスト結果のインターフェース”」**

---

## Google Test が Azure Pipelines で可視化できる理由

これ、理解できてなくてOKな人めちゃ多い。

### 実はこうなってる

* Google Test は

  ```
  --gtest_output=xml
  ```

  で **JUnit互換XMLを出力できる**
* Azure Pipelines は

  * 「Google Test」を知らない
  * **JUnit XML として読んでいるだけ**

👉 つまり：

> **gtestが可視化できる理由 =
> Azure PipelinesがJUnit XMLを理解できるから**

これをシステムテストにも流用した、という流れが**めちゃ綺麗**。

---

## .json / .log は必要？という疑問への整理

ここ、考え方を分けるとスッキリする。

| 種類        | 役割             |
| --------- | -------------- |
| JUnit XML | CIが読む（可視化・判定用） |
| .log      | 人が読む（デバッグ用）    |
| .json     | 後処理・分析・拡張用     |

発表ではこう言えばOK：

> 今回は **JUnit XML を主とし、
> 詳細調査用として log/json を補助的に保持**した

👉
**「JUnit XMLだけで十分」ではなく、
「目的が違う」** が正解。

---

## 「End-to-End じゃない」と言われた理由

ここ、ちゃんと説明できると評価上がる。

### なぜ E2E ではないのか

**E2Eテスト**の定義：

* ユーザ操作 → UI → API → 内部処理 → 表示
* を **UI含めて**検証する

今回：

* Web UI は **static page**
* ロジックはすべて

  * Device API
  * Alarm Controller
  * LED Driver
* にある

👉 だから今回のテストは：

> **「API起点のシステムテスト」**

UIは：

* ロジックを持たない
* 入力をAPIに渡すだけ

そのため：

> **UIを含めるとテストが壊れやすく、本質（組込み側）から逸れる**

これは **正しい判断**。

---

## 8. 考察（そのまま使える案）

### 考察（例）

* 本システムでは、実機を含むシステムテストをクラウド環境から実行・可視化する仕組みを構築した
* テスト対象そのものはローカル実行と同一であるが、

  * 実行トリガ
  * 結果管理
  * 履歴性
    という点でクラウド連携の価値が明確になった
* 一方で、

  * 実機が1台であるため並列実行ができない
  * 非機能要件（性能・リソース）は未検証
    という制約も残る

---

## 9. まとめ（発表向け）

### まとめ（例）

* 組込みシステムにおいても、ソフトウェア更新を前提とした品質保証が重要
* 実機を含むシステムテストはクラウド化が難しいが、

  * Self-hosted Agent
  * 標準フォーマット（JUnit XML）
    を用いることで実現可能であることを示した
* 本取り組みは、

  * 実機制約のある組込み開発における
  * DevOps適用の一つの実践例となる

---

## 次にやると一気に完成度上がること

1. **JUnit XML → Azure Pipelines 可視化の図**（超重要）
2. 「E2Eではない理由」を1枚で説明
3. 考察とまとめを **“システムテスト担当としての視点”**で締める

次は
👉 **図（どんな構成図を描くべきか）**
👉 **15分に収めるスライド配分**

どっちからいく？
