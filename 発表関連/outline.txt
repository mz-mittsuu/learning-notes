成果報告アウトライン


タイトル

組込みシステムのDevOpsにおけるシステムテストの実装（仮）

・ソフトウェアデファインド組込みシステムでは、システムテストを開発・運用プロセスにどう組み込むかが重要である


0. 自己紹介

1. 背景

ソフトウェア更新を前提とする組込みシステムでは、変更に追従できる品質保証が求められている。

・ソフトウェアデファインドの考え方が組込みシステムにも広がり、機能拡張・変更の頻度が高まっている
・変更頻度の増加に伴い、不具合発生リスクも増大している
・組込みシステムでは、実機を含むシステム全体で不具合が顕在化するため、変更に追従可能な品質保証手法の確立が重要である


2. 課題

変更頻度が高まる一方で、実機を含むシステムテストをDevOpsに組み込むのが難しく、品質担保がボトルネックになっている。

システムテストに関する課題
・システムテストは実機が必要で、実機がなければ十分な検証ができない
・実行手順が複雑で、再現性や自動化が困難
・結果が属人化しやすく、CI/CDパイプラインに組み込みにくい

DevOps導入における組込み特有の制約
・クロスコンパイルやSDK依存により、開発・環境の構築が複雑
・実機がクラウド上に存在しないという物理的制約
・ハードウェア依存により、クラウド環境のみでは検証が完結しない


3. 解決方法

システムテストを最終確認工程ではなく、DevOpsに組み込まれた継続的な工程として再設計する。

・システムテストをDevOpsの一部として明確に位置づけ、開発サイクルの中で繰り返し実行可能な工程とする
・単体テストやカバレッジ評価など前段の品質保証を強化し、システムテストを「動作確認」に近づける
・実機を用いたシステムテストを、人手で操作する検証対象ではなく、自動実行可能なテストリソースとして扱う


4. 対象システム概要

現実的な制約を持つシンプルな組込みシステムを開発した。

・本システムは、実機動作、外部入力、内部状態遷移、可視化、および常駐サービス化といった要素を含んでおり、組込みシステムにおけるシステムテスト設計の検討対象として適切な構成となっている。


5. システムテスト設計
人手に依存しがちであったシステムテストについて、組込みシステムならではの観点を整理し、DevOpsを前提とした体系的なテストを設計した。

テスト容易性を意識したアーキテクチャ設計
・外部インターフェース・アプリケーションロジック・ハードウェア制御の責務を分離したアプリ構成により、アプリケーションロジックは単体テスト、外部インターフェースおよびハードウェア制御はシステムテストで検証する構成とした

テスト前提条件
・AM62x EVM が起動済みであること
・SSH 接続が可能であること

組込みシステムにおけるテスト観点に基づくシステムテスト項目構成
・起動確認
    電源投入後、systemdによりサービスが自動起動すること
・初期値確認
    実機起動直後の状態が仕様通りであること
・境界値入力
    センサ値の閾値で状態遷移が正しく行われること
・異常値入力
    想定外入力に対してもシステムが破綻しないこと
・バースト入力
    短時間に連続入力された場合でも状態の整合性が保たれること


6. システムテスト実装・結果

人手に依存しがちな実機を用いたシステムテストについて、再現性のあるテストとして自動実行可能にした。

・Python + Bash によるテストスクリプト作成
・REST API / SSH を用いた入力および状態取得
・テスト結果・ログの自動収集（JSON / XML / LOG）
・システムテスト工程の整理と可視化を実現
※ クラウド環境（Azure DevOps）は現在取組中


7. 考察

組込みDevOpsでは、「正しく動いていることをどう確認するか」の設計が重要である。

・組込みシステムにおいてもDevOpsの考え方自体は有効であるが、特に実機を含むシステムテスト設計は品質担保の要となる。
・実機上で動作しているバイナリのバージョン管理や自動デプロイとの整合性を確保しなければテスト結果の信頼性が担保できない（※現在取組中）
・本検討では機能確認を中心としたシステムテストに注力したため、性能や信頼性といった非機能要件のテストについては実施できておらず、今後の検討課題となった。


8. まとめ

実機を前提としたシステムテストをDevOpsに組み込む設計と実装を行い、その成立性を確認した。

・ソフトウェア更新頻度が高まる組込みシステムにおいては、単体テストだけでなく実機を含むシステムテストをどのように継続的に実行・確認するかが品質担保の鍵となる。
・システムテストを最終確認工程ではなくDevOpsの一部として位置づけ、人手に依存しがちな実機テストを再現性のある自動テストとして実行可能とした。
・一方で、実機上で動作するバイナリの管理や自動デプロイとの整合性といった課題もあり、組込みDevOpsにおいてはツール導入だけでなく、「正しく動いていることをどのように確認するか」を含めたプロセス設計が重要であることを確認した。


9. 所感

インターンシップ全体を通じた学び




成果報告アウトライン_水谷_draft1.doc


ガントチャートどこに入れるか