成果報告アウトライン


タイトル


1. 背景

ソフトウェア更新を前提とする組込みシステムでは、変更に追従できる品質保証が求められている。

・ソフトウェアデファインドの考え方が組込みシステムにも広がり、機能拡張・変更の頻度が高まっている
・変更頻度の増加に伴い、不具合発生リスクも増大している
・組込みシステムでは、実機を含むシステム全体で不具合が顕在化するため、変更に追従可能な品質保証手法の確立が重要である


2. 課題

各テストレイヤに応じた適切なテスト環境の構築が求められる。

・組込みシステムのシステムテストは実機がなければ十分な検証ができない
・実機の用意・検証環境の構築が重い（台数が限られたり、手元に実機がなかったり）
・再現性の確保が難しい（個体差・タイミング依存・通信状態）
・クラウド環境のみでは検証が完結しない


3. 解決方法

クラウド環境でローカル環境と同じようにシステムテストを実行可能にする。
・Host PC から HTTP/SSH で実機に接続してクラウド環境からテスト開始可能（Unit Test が PASS したらクラウド環境から自動実行される）
・クラウド環境からテスト結果を閲覧・追跡可能（Azure Pipeline上で確認できる形式でテスト結果をファイル出力）


4. 対象システム概要

現実的な制約を持つシンプルな組込みシステムを開発した。

・本システムは、実機動作、外部入力、内部状態遷移、可視化、および常駐サービス化といった要素を含んでおり、組込みシステムにおけるシステムテスト設計の検討対象として適切な構成となっている。


5. システムテスト設計

・外部ライブラリを使わないテストコーディング（今回はSelfHostAgentだがVMなら毎回インストールが必要になる？わからないから教えて）
・実機の起動状態の確認を含む（フレーク対策）
・Azure Pipeline上で確認できるような標準形式でテスト結果をファイル出力（XML、JSON）（正確には仕組みわかってないから教えて）

6. システムテスト実装・結果


7. 考察

組込みDevOpsでは、「正しく動いていることをどう確認するか」の設計が重要である。

・組込みシステムにおいてもDevOpsの考え方自体は有効であるが、特に実機を含むシステムテスト設計は品質担保の要となる。
・実機上で動作しているバイナリのバージョン管理や自動デプロイとの整合性を確保しなければテスト結果の信頼性が担保できない（※現在取組中）
・本検討では機能確認を中心としたシステムテストに注力したため、性能や信頼性といった非機能要件のテストについては実施できておらず、今後の検討課題となった。


8. まとめ

実機を前提としたシステムテストをDevOpsに組み込む設計と実装を行い、その成立性を確認した。

・ソフトウェア更新頻度が高まる組込みシステムにおいては、単体テストだけでなく実機を含むシステムテストをどのように継続的に実行・確認するかが品質担保の鍵となる。
・システムテストを最終確認工程ではなくDevOpsの一部として位置づけ、人手に依存しがちな実機テストを再現性のある自動テストとして実行可能とした。
・一方で、実機上で動作するバイナリの管理や自動デプロイとの整合性といった課題もあり、組込みDevOpsにおいてはツール導入だけでなく、「正しく動いていることをどのように確認するか」を含めたプロセス設計が重要であることを確認した。


9. 所感

インターンシップ全体を通じた学び




## 考察

### 実機を含むシステムテストの難しさとその対応

ソフトウェアデファインド組込みシステムにおいて、
システムテストを自動化する上で最も難しかった点は、
**実機の状態がテスト結果に直接影響する**ことであった。

クラウド環境や仮想環境では、
テスト実行前の状態を毎回初期化できることが前提となるが、
組込みシステムでは、

* 実機の起動状態
* 常駐サービスの状態
* 前回実行時の内部状態
  などがテストの前提条件となり、
  これらが揃わない場合、テストが不安定になる問題があった。

この問題に対し、本取り組みでは、
**テスト対象を明確に限定し、前提条件をテスト項目として明示する**
という方針を採用した。
具体的には、systemdによるサービス起動確認や初期値確認を
システムテストの一部として組み込み、
実機がテスト可能な状態であることを確認した上で
機能検証を行う構成とした。

---

### 回帰テスト設計における取捨選択

もう一つの課題は、
**限られた期間の中で、どこまでを自動テストの対象とするか**
という点であった。

本来であれば、Webダッシュボードの表示確認や
非機能要件（性能・負荷）まで含めた検証が望ましいが、
今回は、実機に強く依存し、
かつ不具合が顕在化しやすいロジック部分に対象を絞った。

そのため、

* POST による外部入力
* GET による内部状態の取得
* SSH による実機状態の直接確認
  という最小限のI/Fを用いたテスト構成とし、
  同一テストケースを繰り返し実行可能な
  **回帰テストとして成立する設計**を優先した。

この取捨選択により、
UIを含まない構成ではあるものの、
組込みシステムにおけるシステムテストとして
本質的な確認点を押さえることができたと考える。

---

### 自動化における限界と今後の課題

本取り組みを通じて、
組込みシステムにおけるDevOps適用では、
**自動化を進めるほど、逆にリスクが顕在化する場合がある**
ことも明らかになった。

特に、デプロイとシステムテストの実行が分離している場合、
テスト対象のバイナリと実機上で動作しているバイナリの
整合性が取れない可能性があり、
自動化されたテストであっても
誤った結果を導く危険性がある。

この点については、
自動デプロイ担当との役割分担を通じて課題として認識できており、
今後は、デプロイ完了をトリガとしたテスト実行や、
テスト対象バージョンの明示といった仕組みの検討が必要である。

---

## この考察が「評価される理由」

* ✅ **難しさが「組込み特有」**
* ✅ **できなかったことを正直に書いている**
* ✅ **取捨選択に理由がある**
* ✅ **自動化＝正義、になっていない**

特に

> 自動化を進めるほど、逆にリスクが顕在化する

ここ、**かなり研究開発職っぽい**。

---

## 発表用に短くするなら（超要約）

> 実機を含むシステムテストでは、
> テスト対象そのものよりも、
> テスト前提条件の管理が最も難しかった。
>
> そのため、前提条件の確認をテスト項目として明示し、
> 回帰テストとして成立する最小構成に対象を絞った。
>
> 一方で、自動化を進めるほど
> デプロイとの整合性といった新たな課題も顕在化し、
> 組込みDevOpsでは
> 自動化の設計そのものが重要であると感じた。

---


本インターンシップで得た、
組込みシステム×クラウド×DevOpsという視点は、
今後の研究活動やエンジニアとしての成長において
大きな指針になると感じている。

特に、

* 技術的な正しさ
* 開発プロセスとしての妥当性
* 社会や顧客への価値
  を同時に考える姿勢を、今後も大切にしていきたい。

---

## まとめ案①（王道・一番安全）

> 本インターンシップでは、
> ソフトウェアデファインド組込みシステムにおいて課題となる
> **実機を含むシステムテストの設計と自動化**に取り組んだ。
>
> クラウドCIを起点とし、Host PC 経由で実機に接続する構成を採ることで、
> クラウド環境のみでは完結しない組込みシステムに対しても、
> **再現性を意識した回帰テストの実行**を可能とした。
>
> 本取り組みを通じて、
> 組込みシステムにおけるDevOps適用では、
> 実機依存部分を前提としたテスト設計と役割分担が重要であることを確認した。

▶ 無難・評価が落ちにくい
▶ 研究開発職レビュー向け

---

## まとめ案②（あなたの担当が強く伝わる）

> 本インターンシップでは、
> **実機を含む組込みシステムに対するシステムテスト設計**に焦点を当て、
> ソフトウェア更新を前提とした品質保証の在り方を検討した。
>
> クラウドCIをテストの起点としつつ、
> 実機状態を直接確認できる最小限のI/F（POST / GET / SSH）に基づく
> テストケースを設計することで、
> 実機依存性の高いロジック部分に対する回帰テストを実現した。
>
> この結果、組込みDevOpsにおいては、
> 自動化そのものよりも、
> **「何を」「どの粒度で」「どこまで自動化するか」の設計が重要**であることを明らかにした。

▶ 水谷＝システムテスト担当が明確
▶ LEEさん（自動デプロイ）との分担も自然に想起される

---

## まとめ案③（考察寄り・一段レベル高め）

> 本インターンシップを通じて、
> ソフトウェアデファインド組込みシステムにおけるDevOps適用では、
> クラウド技術そのものよりも、
> **実機を含むシステム全体をどうテスト対象として捉えるか**が
> 重要であることを確認した。
>
> 本取り組みでは、実機依存部分を意識的に切り出し、
> 回帰テストとして成立する最小構成のシステムテストを設計・実装した。
> これにより、実機を必要とする組込みシステムであっても、
> クラウドCIと連携した品質確認の可能性を示すことができた。
>
> 一方で、デプロイとテスト対象の整合性といった課題も明確になり、
> 組込みDevOpsにおける今後の検討事項として整理できた。

▶ 「できたこと」と「限界」の両方を示せる
▶ 研究開発っぽさが一番強い

---

### おすすめ

* **発表用**：②
* **Word提出版**：③
* **保守的に通すなら**：①

次は、
👉 **考察（7章）**をこのまとめにつながる形で一緒に組み立てよう。
「難しかった点 → なぜ難しい → どう向き合ったか」を軸にすると、かなり強くなるよ。



---


いい視点。
**回帰テストを入れたい**、**UIや非機能まで行けなかった理由を前向きに説明したい**、**難しさと向き合い方を強調したい**──全部、成果報告として「評価が上がる方向」だと思う。

順番に整理するね。

---

## ① 回帰テストは「5」か「6」どちらに入れるべきか

結論から言うと、

* **考え方・設計としては 5. システムテスト設計**
* **実際の運用・結果としては 6. 実装・結果**

の **両方に軽く登場**させるのが一番きれい。

### 5章（設計）で言うべきこと

ここでは「なぜ回帰テストを意識したか」。

使える言い方👇

> ソフトウェア更新を前提とする組込みシステムでは、
> 機能追加や修正によって既存機能が壊れていないことを
> **毎回同じ観点で確認できる仕組み**が重要である。

→ だから

* **POST / GET / SSH cat** という

  * 外部I/F
  * 内部状態
  * 実機状態
    を組み合わせたテストを「回帰テストの最小単位」として設計した。

👉
**「回帰テストを意識して、あえて単純なI/Fに絞った」**
という説明ができる。

---

### 6章（実装・結果）で言うべきこと

ここでは「どう回せたか」。

例👇

* ソース更新後、同一テストケースを再実行
* 手動操作を介さず、毎回同じ手順で確認
* 実機を含むにもかかわらず、テストの再現性を確保できた

👉
「高度なUIテストはしていないが、**回帰テストとしては成立している**」
という着地ができる。

---

## ② タイトル案（複数出すね）

### 技術寄り・堅め

* **「ソフトウェアデファインド組込みシステムにおける
  実機連携システムテスト手法の検討」**

### DevOps寄り

* **「実機を含む組込みシステムに対する
  DevOps環境を用いたシステムテスト設計と実践」**

### あなたの担当が見えやすい

* **「クラウドCIを起点とした
  実機組込みシステムのシステムテスト設計」**

👉
LEEさんが「自動デプロイ」なら、
**あなたは「システムテスト設計」**が前面に出るタイトルが◎。

---

## ③ UI・非機能をやらなかったことの“言い換え”

これは**言い方次第でマイナスにもプラスにもなる**ところ。

❌ NG

* 「時間がなくてできなかった」

⭕ OK（かなり良い）

* 「実機が関与するロジック部分に意図的にフォーカスした」

使える文章案👇

> 本来はWeb UIや非機能要件（性能・負荷）まで含めた検証が望ましいが、
> 今回は **実機依存性が高く、回帰テストが難しいロジック部分**に対象を絞った。
> これにより、
>
> * 外部入力
> * 内部状態遷移
> * 実機状態
>   を一貫して確認するシステムテストの設計に集中した。

👉
**「削った」のではなく「絞った」**という言い方が重要。

---

## ④ 「POST/GET/SSH cat だけ」でも弱くならない理由

むしろ、こう言える👇

* POST：**外部入力**
* GET：**APIとしての観測点**
* SSH cat：**実機の真実（single source of truth）**

つまり、

> UIを経由せず、
> **最短経路で“実機がどうなっているか”を確認する設計**

これは **組込みシステムテストとしてはかなり筋が良い**。

---

## ⑤ 「難しかった点」と「どう取り組んだか」の軸（重要）

これは **考察章での黄金パターン**。

### 難しかった点の例

* 実機状態がテスト前提条件になる
* テスト実行時のbinと検証対象がズレるリスク
* 自動化すると逆に危険になるケースがある

### それに対してどうしたか

* 起動確認・初期値確認をテスト項目に明示
* 同一I/Fによる回帰テスト設計
* デプロイ担当と役割分担し、課題を顕在化させた

👉
**「問題を完全に解決した」ではなく
「問題がどこにあるかを明確にした」**
でも、研究開発としては十分に評価される。

---

## ⑥ まとめ案（たたき）

例👇

> 本インターンシップでは、
> ソフトウェアデファインド組込みシステムにおいて課題となる
> **実機を含むシステムテストの設計と自動化**に取り組んだ。
>
> クラウドCIを起点としながらも、
> 実機に依存する部分を切り離して考えることで、
> 回帰テストとして成立するシステムテスト手法を構築できた。
>
> 一方で、デプロイとテストの整合性など、
> 組込みDevOps特有の課題も明らかになり、
> 今後の改善点として整理できた。

---

次はおすすめとして
👉 **5章（システムテスト設計）を文章で書いてみて**。
回帰テストの考え方を入れた版を貼ってくれたら、
**「発表で刺さる表現」まで一緒に磨く**よ。
